!function(e){var t={};function o(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=10)}([function(e,t,o){"use strict";var n;o.d(t,"a",function(){return n}),function(e){e[e.Trace=0]="Trace",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.None=4]="None"}(n||(n={}))},function(e,t,o){"use strict";var n=o(2),s=o(0);class r{constructor(){this.isAborted=!1}abort(){this.isAborted||(this.isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this.isAborted}}o.d(t,"c",function(){return i}),o.d(t,"d",function(){return l}),o.d(t,"b",function(){return h}),o.d(t,"a",function(){return u});var i,a,c=function(e,t,o,n){return new(o||(o=Promise))(function(s,r){function i(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){e.done?s(e.value):new o(function(t){t(e.value)}).then(i,a)}c((n=n.apply(e,t||[])).next())})};(a=i||(i={}))[a.WebSockets=0]="WebSockets",a[a.ServerSentEvents=1]="ServerSentEvents",a[a.LongPolling=2]="LongPolling";class l{constructor(e,t){this.logger=t,this.accessTokenFactory=e||(()=>null)}connect(e,t,o){return new Promise((o,n)=>{e=e.replace(/^http/,"ws");let r=this.accessTokenFactory();r&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`);let i=new WebSocket(e);2==t&&(i.binaryType="arraybuffer"),i.onopen=(n=>{this.logger.log(s.a.Information,`WebSocket connected to ${e}`),this.webSocket=i,o(t)}),i.onerror=(e=>{n()}),i.onmessage=(e=>{this.logger.log(s.a.Trace,`(WebSockets transport) data received: ${e.data}`),this.onreceive&&this.onreceive(e.data)}),i.onclose=(e=>{this.onclose&&this.webSocket&&(!1===e.wasClean||1e3!==e.code?this.onclose(new Error(`Websocket closed with status code: ${e.code} (${e.reason})`)):this.onclose())})})}send(e){return this.webSocket&&this.webSocket.readyState===WebSocket.OPEN?(this.webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this.webSocket&&(this.webSocket.close(),this.webSocket=null),Promise.resolve()}}class h{constructor(e,t,o){this.httpClient=e,this.accessTokenFactory=t||(()=>null),this.logger=o}connect(e,t,o){return"undefined"==typeof EventSource&&Promise.reject("EventSource not supported by the browser."),this.url=e,new Promise((t,o)=>{let n=this.accessTokenFactory();n&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(n)}`);let r=new EventSource(e);try{r.onmessage=(e=>{if(this.onreceive)try{this.logger.log(s.a.Trace,`(SSE transport) data received: ${e.data}`),this.onreceive(e.data)}catch(e){return void(this.onclose&&this.onclose(e))}}),r.onerror=(e=>{o(),this.eventSource&&this.onclose&&this.onclose(new Error(e.message||"Error occurred"))}),r.onopen=(()=>{this.logger.log(s.a.Information,`SSE connected to ${this.url}`),this.eventSource=r,t(1)})}catch(e){return Promise.reject(e)}})}send(e){return c(this,void 0,void 0,function*(){return d(this.httpClient,this.url,this.accessTokenFactory,e)})}stop(){return this.eventSource&&(this.eventSource.close(),this.eventSource=null),Promise.resolve()}}class u{constructor(e,t,o){this.httpClient=e,this.accessTokenFactory=t||(()=>null),this.logger=o,this.pollAbort=new r}connect(e,t,o){if(this.url=e,o.features.inherentKeepAlive=!0,2===t&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");return this.poll(this.url,t),Promise.resolve(t)}poll(e,t){return c(this,void 0,void 0,function*(){let o={timeout:12e4,abortSignal:this.pollAbort.signal,headers:new Map};2===t&&(o.responseType="arraybuffer");let r=this.accessTokenFactory();for(r&&o.headers.set("Authorization",`Bearer ${r}`);!this.pollAbort.signal.aborted;)try{let t=`${e}&_=${Date.now()}`;this.logger.log(s.a.Trace,`(LongPolling transport) polling: ${t}`);let r=yield this.httpClient.get(t,o);204===r.statusCode?(this.logger.log(s.a.Information,"(LongPolling transport) Poll terminated by server"),this.onclose&&this.onclose(),this.pollAbort.abort()):200!==r.statusCode?(this.logger.log(s.a.Error,`(LongPolling transport) Unexpected response code: ${r.statusCode}`),this.onclose&&this.onclose(new n.a(r.statusText,r.statusCode)),this.pollAbort.abort()):r.content?(this.logger.log(s.a.Trace,`(LongPolling transport) data received: ${r.content}`),this.onreceive&&this.onreceive(r.content)):this.logger.log(s.a.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(e){e instanceof n.b?this.logger.log(s.a.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this.onclose&&this.onclose(e),this.pollAbort.abort())}})}send(e){return c(this,void 0,void 0,function*(){return d(this.httpClient,this.url,this.accessTokenFactory,e)})}stop(){return this.pollAbort.abort(),Promise.resolve()}}function d(e,t,o,n){return c(this,void 0,void 0,function*(){let s;o()&&(s=new Map).set("Authorization",`Bearer ${o()}`),yield e.post(t,{content:n,headers:s})})}},function(e,t,o){"use strict";o.d(t,"a",function(){return n}),o.d(t,"b",function(){return s});class n extends Error{constructor(e,t){super(e),this.statusCode=t}}class s extends Error{constructor(e="A timeout occurred."){super(e)}}},function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n,s=o(0);class r{log(e,t){}}class i{constructor(e){this.minimumLogLevel=e}log(e,t){if(e>=this.minimumLogLevel)switch(e){case s.a.Error:console.error(`${s.a[e]}: ${t}`);break;case s.a.Warning:console.warn(`${s.a[e]}: ${t}`);break;case s.a.Information:console.info(`${s.a[e]}: ${t}`);break;default:console.log(`${s.a[e]}: ${t}`)}}}!function(e){e.createLogger=function(e){return void 0===e?new i(s.a.Information):null===e?new r:e.log?e:new i(e)}}(n||(n={}))},function(e,t,o){"use strict";o.d(t,"a",function(){return s});class n{constructor(e,t){this.subject=e,this.observer=t}dispose(){let e=this.subject.observers.indexOf(this.observer);e>-1&&this.subject.observers.splice(e,1),0===this.subject.observers.length&&this.subject.cancelCallback().catch(e=>{})}}class s{constructor(e){this.observers=[],this.cancelCallback=e}next(e){for(let t of this.observers)t.next(e)}error(e){for(let t of this.observers)t.error&&t.error(e)}complete(){for(let e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new n(this,e)}}},function(e,t,o){"use strict";o.d(t,"a",function(){return c});var n=o(1),s=o(6),r=o(0),i=o(3),a=function(e,t,o,n){return new(o||(o=Promise))(function(s,r){function i(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){e.done?s(e.value):new o(function(t){t(e.value)}).then(i,a)}c((n=n.apply(e,t||[])).next())})};class c{constructor(e,t={}){this.features={},this.logger=i.a.createLogger(t.logger),this.baseUrl=this.resolveUrl(e),(t=t||{}).accessTokenFactory=t.accessTokenFactory||(()=>null),this.httpClient=t.httpClient||new s.a,this.connectionState=2,this.options=t}start(){return a(this,void 0,void 0,function*(){return 2!==this.connectionState?Promise.reject(new Error("Cannot start a connection that is not in the 'Disconnected' state.")):(this.connectionState=0,this.startPromise=this.startInternal(),this.startPromise)})}startInternal(){return a(this,void 0,void 0,function*(){try{if(this.options.transport===n.c.WebSockets)this.url=this.baseUrl,this.transport=this.createTransport(this.options.transport,[n.c[n.c.WebSockets]]);else{let e,t=this.options.accessTokenFactory();t&&(e=new Map).set("Authorization",`Bearer ${t}`);let o=yield this.httpClient.post(this.resolveNegotiateUrl(this.baseUrl),{content:"",headers:e}),n=JSON.parse(o.content);if(this.connectionId=n.connectionId,2==this.connectionState)return;this.connectionId&&(this.url=this.baseUrl+(-1===this.baseUrl.indexOf("?")?"?":"&")+`id=${this.connectionId}`,this.transport=this.createTransport(this.options.transport,n.availableTransports))}this.transport.onreceive=this.onreceive,this.transport.onclose=(e=>this.stopConnection(!0,e));let e=2===this.features.transferMode?2:1;this.features.transferMode=yield this.transport.connect(this.url,e,this),this.changeState(0,1)}catch(e){throw this.logger.log(r.a.Error,"Failed to start the connection. "+e),this.connectionState=2,this.transport=null,e}})}createTransport(e,t){if((null===e||void 0===e)&&t.length>0&&(e=n.c[t[0]]),e===n.c.WebSockets&&t.indexOf(n.c[e])>=0)return new n.d(this.options.accessTokenFactory,this.logger);if(e===n.c.ServerSentEvents&&t.indexOf(n.c[e])>=0)return new n.b(this.httpClient,this.options.accessTokenFactory,this.logger);if(e===n.c.LongPolling&&t.indexOf(n.c[e])>=0)return new n.a(this.httpClient,this.options.accessTokenFactory,this.logger);if(this.isITransport(e))return e;throw new Error("No available transports found.")}isITransport(e){return"object"==typeof e&&"connect"in e}changeState(e,t){return this.connectionState==e&&(this.connectionState=t,!0)}send(e){if(1!=this.connectionState)throw new Error("Cannot send data if the connection is not in the 'Connected' State");return this.transport.send(e)}stop(e){return a(this,void 0,void 0,function*(){let t=this.connectionState;this.connectionState=2;try{yield this.startPromise}catch(e){}this.stopConnection(1==t,e)})}stopConnection(e,t){this.transport&&(this.transport.stop(),this.transport=null),t?this.logger.log(r.a.Error,`Connection disconnected with error '${t}'.`):this.logger.log(r.a.Information,"Connection disconnected."),this.connectionState=2,e&&this.onclose&&this.onclose(t)}resolveUrl(e){if(0===e.lastIndexOf("https://",0)||0===e.lastIndexOf("http://",0))return e;if("undefined"==typeof window||!window||!window.document)throw new Error(`Cannot resolve '${e}'.`);let t=window.document.createElement("a");t.href=e;let o=t.protocol&&":"!==t.protocol?`${t.protocol}//${t.host}`:`${window.document.location.protocol}//${t.host||window.document.location.host}`;e&&"/"==e[0]||(e="/"+e);let n=o+e;return this.logger.log(r.a.Information,`Normalizing '${e}' to '${n}'`),n}resolveNegotiateUrl(e){let t=e.indexOf("?"),o=e.substring(0,-1===t?e.length:t);return"/"!==o[o.length-1]&&(o+="/"),o+="negotiate",o+=-1===t?"":e.substring(t)}}},function(e,t,o){"use strict";o.d(t,"a",function(){return i});var n=o(2);class s{constructor(e,t,o){this.statusCode=e,this.statusText=t,this.content=o}}class r{get(e,t){return this.send(Object.assign({},t,{method:"GET",url:e}))}post(e,t){return this.send(Object.assign({},t,{method:"POST",url:e}))}}class i extends r{send(e){return new Promise((t,o)=>{let r=new XMLHttpRequest;r.open(e.method,e.url,!0),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.headers&&e.headers.forEach((e,t)=>r.setRequestHeader(t,e)),e.responseType&&(r.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=(()=>{r.abort()})),e.timeout&&(r.timeout=e.timeout),r.onload=(()=>{e.abortSignal&&(e.abortSignal.onabort=null),r.status>=200&&r.status<300?t(new s(r.status,r.statusText,r.response||r.responseText)):o(new n.a(r.statusText,r.status))}),r.onerror=(()=>{o(new n.a(r.statusText,r.status))}),r.ontimeout=(()=>{o(new n.b)}),r.send(e.content||"")})}}},function(e,t,o){"use strict";var n=o(5),s=o(4);class r{static write(e){return`${e}${r.RecordSeparator}`}static parse(e){if(e[e.length-1]!=r.RecordSeparator)throw new Error("Message is incomplete.");let t=e.split(r.RecordSeparator);return t.pop(),t}}r.RecordSeparator=String.fromCharCode(30);const i="json";class a{constructor(){this.name=i,this.type=1}parseMessages(e){if(!e)return[];let t=r.parse(e),o=[];for(var n=0;n<t.length;++n)o.push(JSON.parse(t[n]));return o}writeMessage(e){return r.write(JSON.stringify(e))}}class c{constructor(e){this.wrappedProtocol=e,this.name=this.wrappedProtocol.name,this.type=1}parseMessages(e){let t=e.indexOf(":");if(-1==t||";"!=e[e.length-1])throw new Error("Invalid payload.");let o=e.substring(0,t);if(!/^[0-9]+$/.test(o))throw new Error(`Invalid length: '${o}'`);if(parseInt(o,10)!=e.length-t-2)throw new Error("Invalid message size.");let n=e.substring(t+1,e.length-1),s=atob(n),r=new Uint8Array(s.length);for(let e=0;e<r.length;e++)r[e]=s.charCodeAt(e);return this.wrappedProtocol.parseMessages(r.buffer)}writeMessage(e){let t=new Uint8Array(this.wrappedProtocol.writeMessage(e)),o="";for(let e=0;e<t.byteLength;e++)o+=String.fromCharCode(t[e]);let n=btoa(o);return`${n.length.toString()}:${n};`}}var l=o(0),h=o(3);o.d(t,"a",function(){return p}),o.d(t,!1,function(){return a});var u=function(e,t,o,n){return new(o||(o=Promise))(function(s,r){function i(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){e.done?s(e.value):new o(function(t){t(e.value)}).then(i,a)}c((n=n.apply(e,t||[])).next())})};const d=3e4;class p{constructor(e,t={}){t=t||{},this.timeoutInMilliseconds=t.timeoutInMilliseconds||d,this.connection="string"==typeof e?new n.a(e,t):e,this.logger=h.a.createLogger(t.logger),this.protocol=t.protocol||new a,this.connection.onreceive=(e=>this.processIncomingData(e)),this.connection.onclose=(e=>this.connectionClosed(e)),this.callbacks=new Map,this.methods=new Map,this.closedCallbacks=[],this.id=0}processIncomingData(e){void 0!==this.timeoutHandle&&clearTimeout(this.timeoutHandle);let t=this.protocol.parseMessages(e);for(var o=0;o<t.length;++o){var n=t[o];switch(n.type){case 1:this.invokeClientMethod(n);break;case 2:case 3:let t=this.callbacks.get(n.invocationId);null!=t&&(3===n.type&&this.callbacks.delete(n.invocationId),t(n));break;case 6:break;default:this.logger.log(l.a.Warning,"Invalid message type: "+e)}}this.configureTimeout()}configureTimeout(){this.connection.features&&this.connection.features.inherentKeepAlive||(this.timeoutHandle=setTimeout(()=>this.serverTimeout(),this.timeoutInMilliseconds))}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}invokeClientMethod(e){let t=this.methods.get(e.target.toLowerCase());if(t){if(t.forEach(t=>t.apply(this,e.arguments)),e.invocationId){let e="Server requested a response, which is not supported in this version of the client.";this.logger.log(l.a.Error,e),this.connection.stop(new Error(e))}}else this.logger.log(l.a.Warning,`No client method with the name '${e.target}' found.`)}connectionClosed(e){this.callbacks.forEach(t=>{t(void 0,e||new Error("Invocation canceled due to connection being closed."))}),this.callbacks.clear(),this.closedCallbacks.forEach(t=>t.apply(this,[e])),this.cleanupTimeout()}start(){return u(this,void 0,void 0,function*(){let e=2===this.protocol.type?2:1;this.connection.features.transferMode=e,yield this.connection.start();var t=this.connection.features.transferMode;yield this.connection.send(r.write(JSON.stringify({protocol:this.protocol.name}))),this.logger.log(l.a.Information,`Using HubProtocol '${this.protocol.name}'.`),2===e&&1===t&&(this.protocol=new c(this.protocol)),this.configureTimeout()})}stop(){return this.cleanupTimeout(),this.connection.stop()}stream(e,...t){let o=this.createStreamInvocation(e,t),n=new s.a(()=>{let e=this.createCancelInvocation(o.invocationId),t=this.protocol.writeMessage(e);return this.callbacks.delete(o.invocationId),this.connection.send(t)});this.callbacks.set(o.invocationId,(e,t)=>{if(t)n.error(t);else if(3===e.type){let t=e;t.error?n.error(new Error(t.error)):n.complete()}else n.next(e.item)});let r=this.protocol.writeMessage(o);return this.connection.send(r).catch(e=>{n.error(e),this.callbacks.delete(o.invocationId)}),n}send(e,...t){let o=this.createInvocation(e,t,!0),n=this.protocol.writeMessage(o);return this.connection.send(n)}invoke(e,...t){let o=this.createInvocation(e,t,!1);return new Promise((e,t)=>{this.callbacks.set(o.invocationId,(o,n)=>{if(n)t(n);else if(3===o.type){let n=o;n.error?t(new Error(n.error)):e(n.result)}else t(new Error(`Unexpected message type: ${o.type}`))});let n=this.protocol.writeMessage(o);this.connection.send(n).catch(e=>{t(e),this.callbacks.delete(o.invocationId)})})}on(e,t){e&&t&&(e=e.toLowerCase(),this.methods.has(e)||this.methods.set(e,[]),this.methods.get(e).push(t))}off(e,t){if(!e||!t)return;e=e.toLowerCase();let o=this.methods.get(e);if(o){var n=o.indexOf(t);-1!=n&&o.splice(n,1)}}onclose(e){e&&this.closedCallbacks.push(e)}cleanupTimeout(){this.timeoutHandle&&clearTimeout(this.timeoutHandle)}createInvocation(e,t,o){if(o)return{type:1,target:e,arguments:t};{let o=this.id;return this.id++,{type:1,invocationId:o.toString(),target:e,arguments:t}}}createStreamInvocation(e,t){let o=this.id;return this.id++,{type:4,invocationId:o.toString(),target:e,arguments:t}}createCancelInvocation(e){return{type:5,invocationId:e}}}},function(e,t){},function(e,t,o){"use strict";o(2),o(6),o(5);var n=o(7);o.d(t,"HubConnection",function(){return n.a});o(8),o(0),o(3),o(1),o(4)},function(e,t,o){"use strict";o.r(t);var n={Play:"播放",Pause:"暫停","Current Time":"目前時間","Duration Time":"總共時間","Remaining Time":"剩餘時間","Stream Type":"串流類型",LIVE:"直播",Loaded:"載入完畢",Progress:"進度",Fullscreen:"全螢幕","Non-Fullscreen":"退出全螢幕",Mute:"靜音",Unmute:"取消靜音","Playback Rate":" 播放速率",Subtitles:"字幕","subtitles off":"關閉字幕",Captions:"內嵌字幕","captions off":"關閉內嵌字幕",Chapters:"章節","Close Modal Dialog":"關閉對話框",Descriptions:"描述","descriptions off":"關閉描述","Audio Track":"音軌","You aborted the media playback":"影片播放已終止","A network error caused the media download to fail part-way.":"網路錯誤導致影片下載失敗。","The media could not be loaded, either because the server or network failed or because the format is not supported.":"影片因格式不支援或者伺服器或網路的問題無法載入。","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"由於影片檔案損毀或是該影片使用了您的瀏覽器不支援的功能，播放終止。","No compatible source was found for this media.":"無法找到相容此影片的來源。","The media is encrypted and we do not have the keys to decrypt it.":"影片已加密，無法解密。","Play Video":"播放影片",Close:"關閉","Modal Window":"對話框","This is a modal window":"這是一個對話框","This modal can be closed by pressing the Escape key or activating the close button.":"可以按ESC按鍵或啟用關閉按鈕來關閉此對話框。",", opens captions settings dialog":", 開啟標題設定對話框",", opens subtitles settings dialog":", 開啟字幕設定對話框",", opens descriptions settings dialog":", 開啟描述設定對話框",", selected":", 選擇","captions settings":"字幕設定","Audio Player":"音頻播放器","Video Player":"視頻播放器",Replay:"重播","Progress Bar":"進度小節","Volume Level":"音量","subtitles settings":"字幕設定","descriptions settings":"描述設定",Text:"文字",White:"白",Black:"黑",Red:"紅",Green:"綠",Blue:"藍",Yellow:"黃",Magenta:"紫紅",Cyan:"青",Background:"背景",Window:"視窗",Transparent:"透明","Semi-Transparent":"半透明",Opaque:"不透明","Font Size":"字型尺寸","Text Edge Style":"字型邊緣樣式",None:"無",Raised:"浮雕",Depressed:"壓低",Uniform:"均勻",Dropshadow:"下陰影","Font Family":"字型庫","Proportional Sans-Serif":"比例無細體","Monospace Sans-Serif":"單間隔無細體","Proportional Serif":"比例細體","Monospace Serif":"單間隔細體",Casual:"輕便的",Script:"手寫體","Small Caps":"小型大寫字體",Reset:"重置","restore all settings to the default values":"恢復全部設定至預設值",Done:"完成","Caption Settings Dialog":"字幕設定視窗","Beginning of dialog window. Escape will cancel and close the window.":"開始對話視窗。離開會取消及關閉視窗","End of dialog window.":"結束對話視窗","Now Playing":"播放中","Untitled Video":"無標題影片","Up Next":"接著播放","Video Name":"影片名稱","Video Description":"影片描述"},s=(()=>({showLoading:()=>{const e=document.getElementsByClassName("loading-mask-disable");e.length>0&&(e[0].className="loading-mask")},hideLoading:()=>{const e=document.getElementsByClassName("loading-mask");e.length>0&&(e[0].className="loading-mask-disable")},showLogo:()=>{const e=document.getElementsByClassName("logo-mask-disable");e.length>0&&(e[0].className="logo-mask")},hideLogo:()=>{const e=document.getElementsByClassName("logo-mask");e.length>0&&(e[0].className="logo-mask-disable")}}))(),r=o(9),i=e=>new Promise((t,o)=>{const n=new r.HubConnection(e.webApiRoot+e.signalrApi);n.start().then(e=>{console.log("initial"),t(n)}).catch(e=>{console.log("noneApi"),s.hideLoading(),s.showLogo(),t(null)})});var a={getAppConfig:function(e){return new Promise((t,o)=>{if(console.log(window.location.search),window.location.search){const o=window.location.search.substring(1).split("&"),n=Object.assign({},e);o.forEach(e=>{let t=e.split("=");n[t[0]]=t[1]}),t(n)}else t(e)})},getVideoList:function(e){return fetch(e,{method:"get"}).then(e=>e.json())}};function c(e){const t=document.createElement("canvas");t.width=640,t.height=480;const o=t.getContext("2d");return o.fillStyle="#FFF",o.fillRect(0,0,t.width,t.height),o.fillStyle="#000",o.font="48px serif",o.fillText(e||"Video",10,50),t.toDataURL()}var l={webApiRoot:"http://127.0.0.1:5000",webApiGetVideoList:"/api/Video/GetVideoList",webApiPlayVideo:"/api/Video/PlayVideo",signalrApi:"/videohub",signalrChannelPlay:"play",defaultPoster:c(),defaultType:"video/mp4",defaultName:n["Video Name"],defaultDescription:n["Video Description"]};c();function h(e,t){return t.webApiRoot+t.webApiPlayVideo+"?code="+e.code}var u={covertToPlayList:function(e,t){let o=[];for(let n=0;n<e.length;n++)o.push({name:e[n].displayName||t.defaultName,description:e[n].description||t.defaultDescription,sources:[{src:h(e[n],t),type:t.defaultType}],poster:e[n].poster||t.defaultPoster,thumbnail:[{src:t.defaultPoster}]});return o},generateVideoParams:h},d=e=>{if(g.playlist([]),g.playlist.autoadvance(),0===e.length)return s.hideLoading(),void s.showLogo();const t=u.covertToPlayList(e,p.config);g.playlist(t),g.playlist.autoadvance(0),g.playlist.first(),s.hideLoading(),s.hideLogo()};o.d(t,"sloth",function(){return p}),o.d(t,"player",function(){return g}),s.showLoading(),s.hideLogo(),videojs.addLanguage("zh-tw",n);var p={},g=videojs("video-learning-player",{language:"zh-tw"});g.playlist([]),g.playlistUi(),g.playlist.autoadvance(0),a.getAppConfig(l).then(e=>{s.showLoading(),p.config=e,i(p.config).then(e=>{e&&(a.getVideoList(p.config.webApiRoot+p.config.webApiGetVideoList).then(e=>{console.log(e),d(e)}),e.on("playVideo",e=>{console.log(e),d(e)}),e.on("loginOk",e=>{console.log(e)}),e.onclose(()=>{s.hideLoading(),s.showLogo()}))})})}]);